# 接口测试用例文档 - 购物车模块

## 1. 接口测试用例

### 1.1 获取购物车商品数量测试用例

| ID  | 模块       | 用例名称                | 优先级 | 接口名称           | 前置条件   | 请求URL            | 请求类型 | 请求头                          | 请求参数类型 | 请求参数 | 预期响应状态码 | 预期返回数据                                        | 实际响应状态码 | 执行结果 | 实际返回结果 |
|-----|------------|-------------------------|--------|--------------------|------------|--------------------|----------|---------------------------------|--------------|----------|----------------|-----------------------------------------------------|----------------|----------|--------------|
| 001 | 购物车模块 | 获取购物车商品数量-已登录 | P0     | 获取购物车商品数量接口 | 用户已登录 | /wx/cart/goodscount | GET      | X-Litemall-Token: 登录成功Token值 | 无           | 无       | 200            | {"errno":0,"data":0,"errmsg":"成功"}           |                |          |              |
| 002 | 购物车模块 | 获取购物车商品数量-未登录 | P1     | 获取购物车商品数量接口 | 用户未登录 | /wx/cart/goodscount | GET      | 无                              | 无           | 无       | 4xx            | {"errno":[非0错误码],"errmsg":"未登录"}          |                |          |              |

### 1.2 加入购物车测试用例

| ID  | 模块       | 用例名称                | 优先级 | 接口名称       | 前置条件                                           | 请求URL       | 请求类型 | 请求头                                                                 | 请求参数类型 | 请求参数                                          | 预期响应状态码 | 预期返回数据                                        | 实际响应状态码 | 执行结果 | 实际返回结果 |
|-----|------------|-------------------------|--------|----------------|--------------------------------------------------|---------------|----------|------------------------------------------------------------------------|--------------|--------------------------------------------------|----------------|-----------------------------------------------------|----------------|----------|--------------|
| 003 | 购物车模块 | 加入购物车-正确商品信息 | P0     | 加入购物车接口 | 用户已登录                                       | /wx/cart/add  | POST     | Content-Type: application/json<br>X-Litemall-Token: 登录成功Token值     | JSON         | {"goodsId":1181000,"number":5,"productId":2}       | 200            | {"errno":0,"data":5,"errmsg":"成功"}             |                |          |              |
| 004 | 购物车模块 | 加入购物车-未登录       | P1     | 加入购物车接口 | 用户未登录                                       | /wx/cart/add  | POST     | Content-Type: application/json                                         | JSON         | {"goodsId":1181000,"number":5,"productId":2}       | 4xx            | {"errno":[非0错误码],"errmsg":"未登录"}          |                |          |              |
| 005 | 购物车模块 | 加入购物车-goodsId为空  | P1     | 加入购物车接口 | 用户已登录                                       | /wx/cart/add  | POST     | Content-Type: application/json<br>X-Litemall-Token: 登录成功Token值     | JSON         | {"goodsId":"","number":5,"productId":2}           | 4xx            | {"errno":[非0错误码],"errmsg":"商品ID不能为空"}      |                |          |              |
| 006 | 购物车模块 | 加入购物车-goodsId不存在 | P1     | 加入购物车接口 | 用户已登录，系统中不存在ID为999999的商品         | /wx/cart/add  | POST     | Content-Type: application/json<br>X-Litemall-Token: 登录成功Token值     | JSON         | {"goodsId":999999,"number":5,"productId":2}        | 4xx            | {"errno":[非0错误码],"errmsg":"商品不存在"}          |                |          |              |
| 007 | 购物车模块 | 加入购物车-number为空   | P1     | 加入购物车接口 | 用户已登录                                       | /wx/cart/add  | POST     | Content-Type: application/json<br>X-Litemall-Token: 登录成功Token值     | JSON         | {"goodsId":1181000,"number":"","productId":2}      | 4xx            | {"errno":[非0错误码],"errmsg":"购买数量不能为空"}    |                |          |              |
| 008 | 购物车模块 | 加入购物车-number为0    | P1     | 加入购物车接口 | 用户已登录                                       | /wx/cart/add  | POST     | Content-Type: application/json<br>X-Litemall-Token: 登录成功Token值     | JSON         | {"goodsId":1181000,"number":0,"productId":2}       | 4xx            | {"errno":[非0错误码],"errmsg":"购买数量必须大于0"}  |                |          |              |
| 009 | 购物车模块 | 加入购物车-number为负数 | P1     | 加入购物车接口 | 用户已登录                                       | /wx/cart/add  | POST     | Content-Type: application/json<br>X-Litemall-Token: 登录成功Token值     | JSON         | {"goodsId":1181000,"number":-5,"productId":2}      | 4xx            | {"errno":[非0错误码],"errmsg":"购买数量必须大于0"}  |                |          |              |
| 010 | 购物车模块 | 加入购物车-number为1    | P0     | 加入购物车接口 | 用户已登录                                       | /wx/cart/add  | POST     | Content-Type: application/json<br>X-Litemall-Token: 登录成功Token值     | JSON         | {"goodsId":1181000,"number":1,"productId":2}       | 200            | {"errno":0,"data":1,"errmsg":"成功"}             |                |          |              |
| 011 | 购物车模块 | 加入购物车-number为50   | P0     | 加入购物车接口 | 用户已登录                                       | /wx/cart/add  | POST     | Content-Type: application/json<br>X-Litemall-Token: 登录成功Token值     | JSON         | {"goodsId":1181000,"number":50,"productId":2}      | 200            | {"errno":0,"data":50,"errmsg":"成功"}            |                |          |              |
| 012 | 购物车模块 | 加入购物车-number为200  | P0     | 加入购物车接口 | 用户已登录                                       | /wx/cart/add  | POST     | Content-Type: application/json<br>X-Litemall-Token: 登录成功Token值     | JSON         | {"goodsId":1181000,"number":200,"productId":2}     | 200            | {"errno":0,"data":200,"errmsg":"成功"}           |                |          |              |
| 013 | 购物车模块 | 加入购物车-number为201  | P1     | 加入购物车接口 | 用户已登录                                       | /wx/cart/add  | POST     | Content-Type: application/json<br>X-Litemall-Token: 登录成功Token值     | JSON         | {"goodsId":1181000,"number":201,"productId":2}     | 4xx            | {"errno":[非0错误码],"errmsg":"购买数量不能超过200"} |                |          |              |
| 014 | 购物车模块 | 加入购物车-productId为空 | P1     | 加入购物车接口 | 用户已登录                                       | /wx/cart/add  | POST     | Content-Type: application/json<br>X-Litemall-Token: 登录成功Token值     | JSON         | {"goodsId":1181000,"number":5,"productId":""}      | 4xx            | {"errno":[非0错误码],"errmsg":"产品ID不能为空"}      |                |          |              |
| 015 | 购物车模块 | 加入购物车-productId为0 | P0     | 加入购物车接口 | 用户已登录                                       | /wx/cart/add  | POST     | Content-Type: application/json<br>X-Litemall-Token: 登录成功Token值     | JSON         | {"goodsId":1181000,"number":5,"productId":0}       | 200            | {"errno":0,"data":5,"errmsg":"成功"}             |                |          |              |
| 016 | 购物车模块 | 加入购物车-productId为1 | P0     | 加入购物车接口 | 用户已登录                                       | /wx/cart/add  | POST     | Content-Type: application/json<br>X-Litemall-Token: 登录成功Token值     | JSON         | {"goodsId":1181000,"number":5,"productId":1}       | 200            | {"errno":0,"data":5,"errmsg":"成功"}             |                |          |              |
| 017 | 购物车模块 | 加入购物车-productId为2 | P0     | 加入购物车接口 | 用户已登录                                       | /wx/cart/add  | POST     | Content-Type: application/json<br>X-Litemall-Token: 登录成功Token值     | JSON         | {"goodsId":1181000,"number":5,"productId":2}       | 200            | {"errno":0,"data":5,"errmsg":"成功"}             |                |          |              |
| 018 | 购物车模块 | 加入购物车-productId为3 | P0     | 加入购物车接口 | 用户已登录                                       | /wx/cart/add  | POST     | Content-Type: application/json<br>X-Litemall-Token: 登录成功Token值     | JSON         | {"goodsId":1181000,"number":5,"productId":3}       | 200            | {"errno":0,"data":5,"errmsg":"成功"}             |                |          |              |
| 019 | 购物车模块 | 加入购物车-productId为4 | P0     | 加入购物车接口 | 用户已登录                                       | /wx/cart/add  | POST     | Content-Type: application/json<br>X-Litemall-Token: 登录成功Token值     | JSON         | {"goodsId":1181000,"number":5,"productId":4}       | 200            | {"errno":0,"data":5,"errmsg":"成功"}             |                |          |              |
| 020 | 购物车模块 | 加入购物车-productId为5 | P0     | 加入购物车接口 | 用户已登录                                       | /wx/cart/add  | POST     | Content-Type: application/json<br>X-Litemall-Token: 登录成功Token值     | JSON         | {"goodsId":1181000,"number":5,"productId":5}       | 200            | {"errno":0,"data":5,"errmsg":"成功"}             |                |          |              |
| 021 | 购物车模块 | 加入购物车-productId为6 | P0     | 加入购物车接口 | 用户已登录                                       | /wx/cart/add  | POST     | Content-Type: application/json<br>X-Litemall-Token: 登录成功Token值     | JSON         | {"goodsId":1181000,"number":5,"productId":6}       | 200            | {"errno":0,"data":5,"errmsg":"成功"}             |                |          |              |
| 022 | 购物车模块 | 加入购物车-productId为7 | P0     | 加入购物车接口 | 用户已登录                                       | /wx/cart/add  | POST     | Content-Type: application/json<br>X-Litemall-Token: 登录成功Token值     | JSON         | {"goodsId":1181000,"number":5,"productId":7}       | 200            | {"errno":0,"data":5,"errmsg":"成功"}             |                |          |              |
| 023 | 购物车模块 | 加入购物车-productId为8 | P0     | 加入购物车接口 | 用户已登录                                       | /wx/cart/add  | POST     | Content-Type: application/json<br>X-Litemall-Token: 登录成功Token值     | JSON         | {"goodsId":1181000,"number":5,"productId":8}       | 200            | {"errno":0,"data":5,"errmsg":"成功"}             |                |          |              |
| 024 | 购物车模块 | 加入购物车-productId为9 | P0     | 加入购物车接口 | 用户已登录                                       | /wx/cart/add  | POST     | Content-Type: application/json<br>X-Litemall-Token: 登录成功Token值     | JSON         | {"goodsId":1181000,"number":5,"productId":9}       | 200            | {"errno":0,"data":5,"errmsg":"成功"}             |                |          |              |
| 025 | 购物车模块 | 加入购物车-productId为非1位数字 | P1 | 加入购物车接口 | 用户已登录                                       | /wx/cart/add  | POST     | Content-Type: application/json<br>X-Litemall-Token: 登录成功Token值     | JSON         | {"goodsId":1181000,"number":5,"productId":10}      | 4xx            | {"errno":[非0错误码],"errmsg":"产品ID必须为0-9之间的数字"} |                |          |              |
| 026 | 购物车模块 | 加入购物车-productId为非数字 | P1 | 加入购物车接口 | 用户已登录                                       | /wx/cart/add  | POST     | Content-Type: application/json<br>X-Litemall-Token: 登录成功Token值     | JSON         | {"goodsId":1181000,"number":5,"productId":"abc"}  | 4xx            | {"errno":[非0错误码],"errmsg":"产品ID必须为数字"}    |                |          |              |

### 1.3 查看购物车测试用例

| ID  | 模块       | 用例名称                | 优先级 | 接口名称       | 前置条件                     | 请求URL        | 请求类型 | 请求头                          | 请求参数类型 | 请求参数 | 预期响应状态码 | 预期返回数据                                        | 实际响应状态码 | 执行结果 | 实际返回结果 |
|-----|------------|-------------------------|--------|----------------|------------------------------|----------------|----------|---------------------------------|--------------|----------|----------------|-----------------------------------------------------|----------------|----------|--------------|
| 027 | 购物车模块 | 查看购物车-已登录       | P0     | 查看购物车接口 | 用户已登录，购物车有商品     | /wx/cart/index | GET      | X-Litemall-Token: 登录成功Token值 | 无           | 无       | 200            | {"errno":0,"data":{"cartTotal":{...},"cartList":[...]},"errmsg":"成功"} |                |          |              |
| 028 | 购物车模块 | 查看购物车-未登录       | P1     | 查看购物车接口 | 用户未登录                   | /wx/cart/index | GET      | 无                              | 无           | 无       | 4xx            | {"errno":[非0错误码],"errmsg":"未登录"}          |                |          |              |
| 029 | 购物车模块 | 查看购物车-购物车为空   | P1     | 查看购物车接口 | 用户已登录，购物车为空       | /wx/cart/index | GET      | X-Litemall-Token: 登录成功Token值 | 无           | 无       | 200            | {"errno":0,"data":{"cartTotal":{...},"cartList":[]},"errmsg":"成功"} |                |          |              |

### 1.4 选中商品测试用例

| ID  | 模块       | 用例名称                | 优先级 | 接口名称       | 前置条件                     | 请求URL         | 请求类型 | 请求头                                                                 | 请求参数类型 | 请求参数                                          | 预期响应状态码 | 预期返回数据                                        | 实际响应状态码 | 执行结果 | 实际返回结果 |
|-----|------------|-------------------------|--------|----------------|------------------------------|-----------------|----------|------------------------------------------------------------------------|--------------|--------------------------------------------------|----------------|-----------------------------------------------------|----------------|----------|--------------|
| 030 | 购物车模块 | 选中商品-正确productIds | P0     | 选中商品接口   | 用户已登录                   | /wx/cart/checked | POST     | Content-Type: application/json<br>X-Litemall-Token: 登录成功Token值     | JSON         | {"productIds":[232,31],"isChecked":1}            | 200            | {"errno":0,"data":{"cartTotal":{...},"cartList":[...]},"errmsg":"成功"} |                |          |              |
| 031 | 购物车模块 | 选中商品-未登录         | P1     | 选中商品接口   | 用户未登录                   | /wx/cart/checked | POST     | Content-Type: application/json                                         | JSON         | {"productIds":[232,31],"isChecked":1}            | 4xx            | {"errno":[非0错误码],"errmsg":"未登录"}          |                |          |              |
| 032 | 购物车模块 | 选中商品-productIds为空 | P1     | 选中商品接口   | 用户已登录                   | /wx/cart/checked | POST     | Content-Type: application/json<br>X-Litemall-Token: 登录成功Token值     | JSON         | {"productIds":[],"isChecked":1}                  | 4xx            | {"errno":[非0错误码],"errmsg":"产品ID列表不能为空"} |                |          |              |
| 033 | 购物车模块 | 选中商品-isChecked为0   | P1     | 选中商品接口   | 用户已登录                   | /wx/cart/checked | POST     | Content-Type: application/json<br>X-Litemall-Token: 登录成功Token值     | JSON         | {"productIds":[232,31],"isChecked":0}            | 200            | {"errno":0,"data":{"cartTotal":{...},"cartList":[...]},"errmsg":"成功"} |                |          |              |

### 1.5 结算商品测试用例

| ID  | 模块       | 用例名称                | 优先级 | 接口名称       | 前置条件                     | 请求URL                                                             | 请求类型 | 请求头                          | 请求参数类型 | 请求参数 | 预期响应状态码 | 预期返回数据                                        | 实际响应状态码 | 执行结果 | 实际返回结果 |
|-----|------------|-------------------------|--------|----------------|------------------------------|---------------------------------------------------------------------|----------|---------------------------------|--------------|----------|----------------|-----------------------------------------------------|----------------|----------|--------------|
| 034 | 购物车模块 | 结算商品-已登录         | P0     | 结算商品接口   | 用户已登录，购物车有商品     | /wx/cart/checkout?cartId=0&addressId=0&couponId=0&userCouponId=0&grouponRulesId=0 | GET      | X-Litemall-Token: 登录成功Token值 | 无           | 无       | 200            | {"errno":0,"data":{"actualPrice":...,"checkedGoodsList":[...]},"errmsg":"成功"} |                |          |              |
| 035 | 购物车模块 | 结算商品-未登录         | P1     | 结算商品接口   | 用户未登录                   | /wx/cart/checkout?cartId=0&addressId=0&couponId=0&userCouponId=0&grouponRulesId=0 | GET      | 无                              | 无           | 无       | 4xx            | {"errno":[非0错误码],"errmsg":"未登录"}          |                |          |              |
| 036 | 购物车模块 | 结算商品-购物车为空     | P1     | 结算商品接口   | 用户已登录，购物车为空       | /wx/cart/checkout?cartId=0&addressId=0&couponId=0&userCouponId=0&grouponRulesId=0 | GET      | X-Litemall-Token: 登录成功Token值 | 无           | 无       | 4xx            | {"errno":[非0错误码],"errmsg":"购物车为空"}      |                |          |              |