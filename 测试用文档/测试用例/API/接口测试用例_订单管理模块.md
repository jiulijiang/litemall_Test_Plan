# 接口测试用例文档 - 订单管理模块

## 1. 接口测试用例

### 1.1 提交订单测试用例

| ID  | 模块         | 用例名称                      | 优先级 | 接口名称     | 前置条件                 | 请求URL          | 请求类型 | 请求头                                                                   | 请求参数类型 | 请求参数                                                                                                                                                                                                                                                                                                                                                                                                     | 预期响应状态码 | 预期返回数据                                                       | 实际响应状态码 | 执行结果 | 实际返回结果 |
| --- | ------------ | ----------------------------- | ------ | ------------ | ------------------------ | ---------------- | -------- | ------------------------------------------------------------------------ | ------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | -------------- | ------------------------------------------------------------------ | -------------- | -------- | ------------ |
| 001 | 订单管理模块 | 提交订单-全部参数正确         | P0     | 提交订单接口 | 用户已登录，购物车有商品 | /wx/order/submit | POST     | Content-Type: application/json `<br>`X-Litemall-Token: 登录成功Token值 | JSON         | {"addressId":"2","cartId":"0","couponId":"0","userCouponId":"0","grouponLinkId":0,"grouponRulesId":0,"message":""}                                                                                                                                                                                                                                                                                           | 200            | {"errno":0,"data":{"orderId":1,"grouponLinkId":0},"errmsg":"成功"} |                |          |              |
| 002 | 订单管理模块 | 提交订单-仅必填参数正确       | P0     | 提交订单接口 | 用户已登录，购物车有商品 | /wx/order/submit | POST     | Content-Type: application/json `<br>`X-Litemall-Token: 登录成功Token值 | JSON         | {"addressId":"2","cartId":"0","couponId":"0","userCouponId":"0","grouponLinkId":0,"grouponRulesId":0}                                                                                                                                                                                                                                                                                                        | 200            | {"errno":0,"data":{"orderId":1,"grouponLinkId":0},"errmsg":"成功"} |                |          |              |
| 003 | 订单管理模块 | 提交订单-未登录               | P1     | 提交订单接口 | 用户未登录               | /wx/order/submit | POST     | Content-Type: application/json                                           | JSON         | {"addressId":"2","cartId":"0","couponId":"0","userCouponId":"0","grouponLinkId":0,"grouponRulesId":0}                                                                                                                                                                                                                                                                                                        | 4xx            | {"errno":[非0错误码],"errmsg":"未登录"}                            |                |          |              |
| 004 | 订单管理模块 | 提交订单-addressId为空        | P1     | 提交订单接口 | 用户已登录，购物车有商品 | /wx/order/submit | POST     | Content-Type: application/json `<br>`X-Litemall-Token: 登录成功Token值 | JSON         | {"addressId":"","cartId":"0","couponId":"0","userCouponId":"0","grouponLinkId":0,"grouponRulesId":0}                                                                                                                                                                                                                                                                                                         | 4xx            | {"errno":[非0错误码],"errmsg":"地址信息不正确"}                    |                |          |              |
| 005 | 订单管理模块 | 提交订单-addressId不存在      | P1     | 提交订单接口 | 用户已登录，购物车有商品 | /wx/order/submit | POST     | Content-Type: application/json `<br>`X-Litemall-Token: 登录成功Token值 | JSON         | {"addressId":"999999","cartId":"0","couponId":"0","userCouponId":"0","grouponLinkId":0,"grouponRulesId":0}                                                                                                                                                                                                                                                                                                   | 4xx            | {"errno":[非0错误码],"errmsg":"地址不存在"}                        |                |          |              |
| 006 | 订单管理模块 | 提交订单-cartId为空           | P1     | 提交订单接口 | 用户已登录，购物车有商品 | /wx/order/submit | POST     | Content-Type: application/json `<br>`X-Litemall-Token: 登录成功Token值 | JSON         | {"addressId":"2","cartId":"","couponId":"0","userCouponId":"0","grouponLinkId":0,"grouponRulesId":0}                                                                                                                                                                                                                                                                                                         | 4xx            | {"errno":[非0错误码],"errmsg":"购物车ID不能为空"}                  |                |          |              |
| 007 | 订单管理模块 | 提交订单-couponId为空         | P1     | 提交订单接口 | 用户已登录，购物车有商品 | /wx/order/submit | POST     | Content-Type: application/json `<br>`X-Litemall-Token: 登录成功Token值 | JSON         | {"addressId":"2","cartId":"0","couponId":"","userCouponId":"0","grouponLinkId":0,"grouponRulesId":0}                                                                                                                                                                                                                                                                                                         | 4xx            | {"errno":[非0错误码],"errmsg":"优惠券ID不能为空"}                  |                |          |              |
| 008 | 订单管理模块 | 提交订单-userCouponId为空     | P1     | 提交订单接口 | 用户已登录，购物车有商品 | /wx/order/submit | POST     | Content-Type: application/json `<br>`X-Litemall-Token: 登录成功Token值 | JSON         | {"addressId":"2","cartId":"0","couponId":"0","userCouponId":"","grouponLinkId":0,"grouponRulesId":0}                                                                                                                                                                                                                                                                                                         | 4xx            | {"errno":[非0错误码],"errmsg":"用户优惠券ID不能为空"}              |                |          |              |
| 009 | 订单管理模块 | 提交订单-grouponLinkId为空    | P1     | 提交订单接口 | 用户已登录，购物车有商品 | /wx/order/submit | POST     | Content-Type: application/json `<br>`X-Litemall-Token: 登录成功Token值 | JSON         | {"addressId":"2","cartId":"0","couponId":"0","userCouponId":"0","grouponLinkId":"","grouponRulesId":0}                                                                                                                                                                                                                                                                                                       | 4xx            | {"errno":[非0错误码],"errmsg":"团购链接ID不能为空"}                |                |          |              |
| 010 | 订单管理模块 | 提交订单-grouponLinkId非数字  | P1     | 提交订单接口 | 用户已登录，购物车有商品 | /wx/order/submit | POST     | Content-Type: application/json `<br>`X-Litemall-Token: 登录成功Token值 | JSON         | {"addressId":"2","cartId":"0","couponId":"0","userCouponId":"0","grouponLinkId":"abc","grouponRulesId":0}                                                                                                                                                                                                                                                                                                    | 4xx            | {"errno":[非0错误码],"errmsg":"团购链接ID必须为数字"}              |                |          |              |
| 011 | 订单管理模块 | 提交订单-grouponRulesId为空   | P1     | 提交订单接口 | 用户已登录，购物车有商品 | /wx/order/submit | POST     | Content-Type: application/json `<br>`X-Litemall-Token: 登录成功Token值 | JSON         | {"addressId":"2","cartId":"0","couponId":"0","userCouponId":"0","grouponLinkId":0,"grouponRulesId":""}                                                                                                                                                                                                                                                                                                       | 4xx            | {"errno":[非0错误码],"errmsg":"团购规则ID不能为空"}                |                |          |              |
| 012 | 订单管理模块 | 提交订单-grouponRulesId非数字 | P1     | 提交订单接口 | 用户已登录，购物车有商品 | /wx/order/submit | POST     | Content-Type: application/json `<br>`X-Litemall-Token: 登录成功Token值 | JSON         | {"addressId":"2","cartId":"0","couponId":"0","userCouponId":"0","grouponLinkId":0,"grouponRulesId":"abc"}                                                                                                                                                                                                                                                                                                    | 4xx            | {"errno":[非0错误码],"errmsg":"团购规则ID必须为数字"}              |                |          |              |
| 013 | 订单管理模块 | 提交订单-message超过200字符   | P1     | 提交订单接口 | 用户已登录，购物车有商品 | /wx/order/submit | POST     | Content-Type: application/json `<br>`X-Litemall-Token: 登录成功Token值 | JSON         | {"addressId":"2","cartId":"0","couponId":"0","userCouponId":"0","grouponLinkId":0,"grouponRulesId":0,`<br>`"message":"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa `<br>`aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa `<br>`aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"} | 4xx            | {"errno":[非0错误码],"errmsg":"备注信息不能超过200个字符"}         |                |          |              |
| 014 | 订单管理模块 | 提交订单-购物车为空           | P1     | 提交订单接口 | 用户已登录，购物车为空   | /wx/order/submit | POST     | Content-Type: application/json `<br>`X-Litemall-Token: 登录成功Token值 | JSON         | {"addressId":"2","cartId":"0","couponId":"0","userCouponId":"0","grouponLinkId":0,"grouponRulesId":0}                                                                                                                                                                                                                                                                                                        | 4xx            | {"errno":[非0错误码],"errmsg":"购物车为空"}                        |                |          |              |
| 015 | 订单管理模块 | 提交订单-无效优惠券           | P1     | 提交订单接口 | 用户已登录，购物车有商品 | /wx/order/submit | POST     | Content-Type: application/json `<br>`X-Litemall-Token: 登录成功Token值 | JSON         | {"addressId":"2","cartId":"0","couponId":"999999","userCouponId":"0","grouponLinkId":0,"grouponRulesId":0}                                                                                                                                                                                                                                                                                                   | 4xx            | {"errno":[非0错误码],"errmsg":"优惠券无效"}                        |                |          |              |

### 1.2 查看订单列表测试用例

| ID  | 模块         | 用例名称                | 优先级 | 接口名称     | 前置条件   | 请求URL                                    | 请求类型 | 请求头                            | 请求参数类型 | 请求参数 | 预期响应状态码 | 预期返回数据                                                                              | 实际响应状态码 | 执行结果 | 实际返回结果 |
| --- | ------------ | ----------------------- | ------ | ------------ | ---------- | ------------------------------------------ | -------- | --------------------------------- | ------------ | -------- | -------------- | ----------------------------------------------------------------------------------------- | -------------- | -------- | ------------ |
| 016 | 订单管理模块 | 查看订单列表-已登录     | P0     | 订单列表接口 | 用户已登录 | /wx/order/list?showType=0&page=1&size=10   | GET      | X-Litemall-Token: 登录成功Token值 | 无           | 无       | 200            | {"errno":0,"data":{"total":1,"pages":1,"limit":10,"page":1,"list":[...]},"errmsg":"成功"} |                |          |              |
| 017 | 订单管理模块 | 查看订单列表-未登录     | P1     | 订单列表接口 | 用户未登录 | /wx/order/list?showType=0&page=1&size=10   | GET      | 无                                | 无           | 无       | 4xx            | {"errno":[非0错误码],"errmsg":"未登录"}                                                   |                |          |              |
| 018 | 订单管理模块 | 查看订单列表-待付款订单 | P0     | 订单列表接口 | 用户已登录 | /wx/order/list?showType=101&page=1&size=10 | GET      | X-Litemall-Token: 登录成功Token值 | 无           | 无       | 200            | {"errno":0,"data":{"total":1,"pages":1,"limit":10,"page":1,"list":[...]},"errmsg":"成功"} |                |          |              |
| 019 | 订单管理模块 | 查看订单列表-待发货订单 | P0     | 订单列表接口 | 用户已登录 | /wx/order/list?showType=102&page=1&size=10 | GET      | X-Litemall-Token: 登录成功Token值 | 无           | 无       | 200            | {"errno":0,"data":{"total":1,"pages":1,"limit":10,"page":1,"list":[...]},"errmsg":"成功"} |                |          |              |
| 020 | 订单管理模块 | 查看订单列表-待收货订单 | P0     | 订单列表接口 | 用户已登录 | /wx/order/list?showType=103&page=1&size=10 | GET      | X-Litemall-Token: 登录成功Token值 | 无           | 无       | 200            | {"errno":0,"data":{"total":1,"pages":1,"limit":10,"page":1,"list":[...]},"errmsg":"成功"} |                |          |              |
| 021 | 订单管理模块 | 查看订单列表-待评价订单 | P0     | 订单列表接口 | 用户已登录 | /wx/order/list?showType=104&page=1&size=10 | GET      | X-Litemall-Token: 登录成功Token值 | 无           | 无       | 200            | {"errno":0,"data":{"total":1,"pages":1,"limit":10,"page":1,"list":[...]},"errmsg":"成功"} |                |          |              |
