# 接口测试用例文档 - 地址管理模块

## 1. 接口测试用例

| 序号 | 用例编号       | 接口名称                           | 接口路径         | 请求方法 | 请求头                                                                   | 优先级 | 前置条件                       | 测试步骤                                                                                                      | 测试数据                                                                                                                                                                                                                                                                                                                                                             | 预期结果                                                                 | 响应状态码 | 备注                       |
| ---- | -------------- | ---------------------------------- | ---------------- | -------- | ------------------------------------------------------------------------ | ------ | ------------------------------ | ------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------ | ---------- | -------------------------- |
| 0    | API_Address001 | 添加地址成功                       | /wx/address/save | POST     | Content-Type: application/json `<br>`X-Litemall-Token: 登录成功Token值 | P0     | 用户已登录                     | 1. 构造添加地址请求；`<br>`2. 添加请求头；`<br>`3. 发送请求；`<br>`4. 验证响应                          | {"name":"jack001","tel":"13611224455","country":"China","province":"Beijing","city":"Beijing","county":"HaiDian","areaCode":"110101","postalCode":"100091","addressDetail":"heima","isDefault":true}                                                                                                                                                                 | errno=0，data返回地址ID，errmsg="成功"                                   | 200        | 所有参数符合要求           |
| 1    | API_Address002 | 添加地址失败-姓名为空              | /wx/address/save | POST     | Content-Type: application/json `<br>`X-Litemall-Token: 登录成功Token值 | P1     | 用户已登录                     | 1. 构造添加地址请求（姓名为空）；`<br>`2. 添加请求头；`<br>`3. 发送请求；`<br>`4. 验证响应              | {"name":"","tel":"13611224455","country":"China","province":"Beijing","city":"Beijing","county":"HaiDian","areaCode":"110101","postalCode":"100091","addressDetail":"heima","isDefault":true}                                                                                                                                                                        | errno!=0，errmsg="姓名不能为空"                                          | 4xx        | 姓名为空                   |
| 2    | API_Address003 | 添加地址失败-姓名65个字符          | /wx/address/save | POST     | Content-Type: application/json `<br>`X-Litemall-Token: 登录成功Token值 | P1     | 用户已登录                     | 1. 构造添加地址请求（姓名65个字符）；`<br>`2. 添加请求头；`<br>`3. 发送请求；`<br>`4. 验证响应          | {"name":"abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz","tel":"13611224455","country":"China","province":"Beijing",`<bar>`"city":"Beijing","county":"HaiDian","areaCode":"110101","postalCode":"100091","addressDetail":"heima","isDefault":true}                                                       | errno!=0，errmsg="姓名长度不能超过64个字符"                              | 4xx        | 姓名超长                   |
| 3    | API_Address004 | 添加地址失败-手机号为空            | /wx/address/save | POST     | Content-Type: application/json `<br>`X-Litemall-Token: 登录成功Token值 | P1     | 用户已登录                     | 1. 构造添加地址请求（手机号为空）；`<br>`2. 添加请求头；`<br>`3. 发送请求；`<br>`4. 验证响应            | {"name":"jack001","tel":"","country":"China","province":"Beijing","city":"Beijing","county":"HaiDian","areaCode":"110101","postalCode":"100091","addressDetail":"heima","isDefault":true}                                                                                                                                                                            | errno!=0，errmsg="手机号不能为空"                                        | 4xx        | 手机号为空                 |
| 4    | API_Address005 | 添加地址失败-手机号非11位数字      | /wx/address/save | POST     | Content-Type: application/json `<br>`X-Litemall-Token: 登录成功Token值 | P1     | 用户已登录                     | 1. 构造添加地址请求（手机号非11位数字）；`<br>`2. 添加请求头；`<br>`3. 发送请求；`<br>`4. 验证响应      | {"name":"jack001","tel":"1361122445","country":"China","province":"Beijing","city":"Beijing","county":"HaiDian","areaCode":"110101","postalCode":"100091","addressDetail":"heima","isDefault":true}                                                                                                                                                                  | errno!=0，errmsg="手机号必须是11位数字"                                  | 4xx        | 手机号位数不对             |
| 5    | API_Address006 | 添加地址失败-手机号11位非数字      | /wx/address/save | POST     | Content-Type: application/json `<br>`X-Litemall-Token: 登录成功Token值 | P1     | 用户已登录                     | 1. 构造添加地址请求（手机号11位非数字）；`<br>`2. 添加请求头；`<br>`3. 发送请求；`<br>`4. 验证响应      | {"name":"jack001","tel":"1361122445a","country":"China","province":"Beijing","city":"Beijing","county":"HaiDian","areaCode":"110101","postalCode":"100091","addressDetail":"heima","isDefault":true}                                                                                                                                                                 | errno!=0，errmsg="手机号必须是数字"                                      | 4xx        | 手机号含非数字字符         |
| 6    | API_Address007 | 添加地址失败-手机号第一个数字非1   | /wx/address/save | POST     | Content-Type: application/json `<br>`X-Litemall-Token: 登录成功Token值 | P1     | 用户已登录                     | 1. 构造添加地址请求（手机号第一个数字非1）；`<br>`2. 添加请求头；`<br>`3. 发送请求；`<br>`4. 验证响应   | {"name":"jack001","tel":"23611224455","country":"China","province":"Beijing","city":"Beijing","county":"HaiDian","areaCode":"110101","postalCode":"100091","addressDetail":"heima","isDefault":true}                                                                                                                                                                 | errno!=0，errmsg="手机号格式不正确"                                      | 4xx        | 手机号第一位不是1          |
| 7    | API_Address008 | 添加地址失败-手机号第二个数字小于2 | /wx/address/save | POST     | Content-Type: application/json `<br>`X-Litemall-Token: 登录成功Token值 | P1     | 用户已登录                     | 1. 构造添加地址请求（手机号第二个数字小于2）；`<br>`2. 添加请求头；`<br>`3. 发送请求；`<br>`4. 验证响应 | {"name":"jack001","tel":"11611224455","country":"China","province":"Beijing","city":"Beijing","county":"HaiDian","areaCode":"110101","postalCode":"100091","addressDetail":"heima","isDefault":true}                                                                                                                                                                 | errno!=0，errmsg="手机号格式不正确"                                      | 4xx        | 手机号第二位小于2          |
| 8    | API_Address009 | 添加地址失败-省份未选择            | /wx/address/save | POST     | Content-Type: application/json `<br>`X-Litemall-Token: 登录成功Token值 | P1     | 用户已登录                     | 1. 构造添加地址请求（省份未选择）；`<br>`2. 添加请求头；`<br>`3. 发送请求；`<br>`4. 验证响应            | {"name":"jack001","tel":"13611224455","country":"China","province":"","city":"Beijing","county":"HaiDian","areaCode":"110101","postalCode":"100091","addressDetail":"heima","isDefault":true}                                                                                                                                                                        | errno!=0，errmsg="请选择省份"                                            | 4xx        | 未选择省份                 |
| 9    | API_Address010 | 添加地址失败-城市未选择            | /wx/address/save | POST     | Content-Type: application/json `<br>`X-Litemall-Token: 登录成功Token值 | P1     | 用户已登录                     | 1. 构造添加地址请求（城市未选择）；`<br>`2. 添加请求头；`<br>`3. 发送请求；`<br>`4. 验证响应            | {"name":"jack001","tel":"13611224455","country":"China","province":"Beijing","city":"","county":"HaiDian","areaCode":"110101","postalCode":"100091","addressDetail":"heima","isDefault":true}                                                                                                                                                                        | errno!=0，errmsg="请选择城市"                                            | 4xx        | 未选择城市                 |
| 10   | API_Address011 | 添加地址失败-区县未选择            | /wx/address/save | POST     | Content-Type: application/json `<br>`X-Litemall-Token: 登录成功Token值 | P1     | 用户已登录                     | 1. 构造添加地址请求（区县未选择）；`<br>`2. 添加请求头；`<br>`3. 发送请求；`<br>`4. 验证响应            | {"name":"jack001","tel":"13611224455","country":"China","province":"Beijing","city":"Beijing","county":"","areaCode":"110101","postalCode":"100091","addressDetail":"heima","isDefault":true}                                                                                                                                                                        | errno!=0，errmsg="请选择区县"                                            | 4xx        | 未选择区县                 |
| 11   | API_Address012 | 添加地址失败-地区码为空            | /wx/address/save | POST     | Content-Type: application/json `<br>`X-Litemall-Token: 登录成功Token值 | P1     | 用户已登录                     | 1. 构造添加地址请求（地区码为空）；`<br>`2. 添加请求头；`<br>`3. 发送请求；`<br>`4. 验证响应            | {"name":"jack001","tel":"13611224455","country":"China","province":"Beijing","city":"Beijing","county":"HaiDian","areaCode":"","postalCode":"100091","addressDetail":"heima","isDefault":true}                                                                                                                                                                       | errno!=0，errmsg="地区码不能为空"                                        | 4xx        | 地区码为空                 |
| 12   | API_Address013 | 添加地址失败-地区码非6位数字       | /wx/address/save | POST     | Content-Type: application/json `<br>`X-Litemall-Token: 登录成功Token值 | P1     | 用户已登录                     | 1. 构造添加地址请求（地区码非6位数字）；`<br>`2. 添加请求头；`<br>`3. 发送请求；`<br>`4. 验证响应       | {"name":"jack001","tel":"13611224455","country":"China","province":"Beijing","city":"Beijing","county":"HaiDian","areaCode":"11010","postalCode":"100091","addressDetail":"heima","isDefault":true}                                                                                                                                                                  | errno!=0，errmsg="地区码必须是6位数字"                                   | 4xx        | 地区码位数不对             |
| 13   | API_Address014 | 添加地址失败-地区码6位非数字       | /wx/address/save | POST     | Content-Type: application/json `<br>`X-Litemall-Token: 登录成功Token值 | P1     | 用户已登录                     | 1. 构造添加地址请求（地区码6位非数字）；`<br>`2. 添加请求头；`<br>`3. 发送请求；`<br>`4. 验证响应       | {"name":"jack001","tel":"13611224455","country":"China","province":"Beijing","city":"Beijing","county":"HaiDian","areaCode":"11010a","postalCode":"100091","addressDetail":"heima","isDefault":true}                                                                                                                                                                 | errno!=0，errmsg="地区码必须是数字"                                      | 4xx        | 地区码含非数字字符         |
| 14   | API_Address015 | 添加地址失败-邮编为空              | /wx/address/save | POST     | Content-Type: application/json `<br>`X-Litemall-Token: 登录成功Token值 | P1     | 用户已登录                     | 1. 构造添加地址请求（邮编为空）；`<br>`2. 添加请求头；`<br>`3. 发送请求；`<br>`4. 验证响应              | {"name":"jack001","tel":"13611224455","country":"China","province":"Beijing","city":"Beijing","county":"HaiDian","areaCode":"110101","postalCode":"","addressDetail":"heima","isDefault":true}                                                                                                                                                                       | errno!=0，errmsg="邮编不能为空"                                          | 4xx        | 邮编为空                   |
| 15   | API_Address016 | 添加地址失败-邮编非6位数字         | /wx/address/save | POST     | Content-Type: application/json `<br>`X-Litemall-Token: 登录成功Token值 | P1     | 用户已登录                     | 1. 构造添加地址请求（邮编非6位数字）；`<br>`2. 添加请求头；`<br>`3. 发送请求；`<br>`4. 验证响应         | {"name":"jack001","tel":"13611224455","country":"China","province":"Beijing","city":"Beijing","county":"HaiDian","areaCode":"110101","postalCode":"10009","addressDetail":"heima","isDefault":true}                                                                                                                                                                  | errno!=0，errmsg="邮编必须是6位数字"                                     | 4xx        | 邮编位数不对               |
| 16   | API_Address017 | 添加地址失败-邮编6位非数字         | /wx/address/save | POST     | Content-Type: application/json `<br>`X-Litemall-Token: 登录成功Token值 | P1     | 用户已登录                     | 1. 构造添加地址请求（邮编6位非数字）；`<br>`2. 添加请求头；`<br>`3. 发送请求；`<br>`4. 验证响应         | {"name":"jack001","tel":"13611224455","country":"China","province":"Beijing","city":"Beijing","county":"HaiDian","areaCode":"110101","postalCode":"10009a","addressDetail":"heima","isDefault":true}                                                                                                                                                                 | errno!=0，errmsg="邮编必须是数字"                                        | 4xx        | 邮编含非数字字符           |
| 17   | API_Address018 | 添加地址失败-详细地址为空          | /wx/address/save | POST     | Content-Type: application/json `<br>`X-Litemall-Token: 登录成功Token值 | P1     | 用户已登录                     | 1. 构造添加地址请求（详细地址为空）；`<br>`2. 添加请求头；`<br>`3. 发送请求；`<br>`4. 验证响应          | {"name":"jack001","tel":"13611224455","country":"China","province":"Beijing","city":"Beijing","county":"HaiDian","areaCode":"110101","postalCode":"100091","addressDetail":"","isDefault":true}                                                                                                                                                                      | errno!=0，errmsg="详细地址不能为空"                                      | 4xx        | 详细地址为空               |
| 18   | API_Address019 | 添加地址失败-详细地址超过100个字符 | /wx/address/save | POST     | Content-Type: application/json `<br>`X-Litemall-Token: 登录成功Token值 | P1     | 用户已登录                     | 1. 构造添加地址请求（详细地址超过100个字符）；`<br>`2. 添加请求头；`<br>`3. 发送请求；`<br>`4. 验证响应 | {"name":"jack001","tel":"13611224455","country":"China","province":"Beijing","city":"Beijing","county":"HaiDian","areaCode":"110101","postalCode":"100091",`<bar>`"addressDetail":"abcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyzabcdefghijklmnopqrstuvwxyz","isDefault":true} | errno!=0，errmsg="详细地址长度不能超过100个字符"                         | 4xx        | 详细地址超长               |
| 19   | API_Address020 | 添加地址成功-默认地址为空          | /wx/address/save | POST     | Content-Type: application/json `<br>`X-Litemall-Token: 登录成功Token值 | P2     | 用户已登录                     | 1. 构造添加地址请求（默认地址为空）；`<br>`2. 添加请求头；`<br>`3. 发送请求；`<br>`4. 验证响应          | {"name":"jack001","tel":"13611224455","country":"China","province":"Beijing","city":"Beijing","county":"HaiDian","areaCode":"110101","postalCode":"100091","addressDetail":"heima","isDefault":false}                                                                                                                                                                | errno=0，data返回地址ID，errmsg="成功"                                   | 200        | 默认地址非必填             |
| 20   | API_Address021 | 添加默认地址成功-已存在默认地址    | /wx/address/save | POST     | Content-Type: application/json `<br>`X-Litemall-Token: 登录成功Token值 | P2     | 用户已登录，且已有一个默认地址 | 1. 构造添加地址请求（再次选择设为默认地址）；`<br>`2. 添加请求头；`<br>`3. 发送请求；`<br>`4. 验证响应  | {"name":"jack001","tel":"13611224455","country":"China","province":"Beijing","city":"Beijing","county":"HaiDian","areaCode":"110101","postalCode":"100091","addressDetail":"heima","isDefault":true}                                                                                                                                                                 | errno=0，data返回地址ID，errmsg="成功"                                   | 200        | 新默认地址会覆盖旧默认地址 |
| 21   | API_Address022 | 查看地址列表成功                   | /wx/address/list | GET      | X-Litemall-Token: 登录成功Token值                                        | P0     | 用户已登录，已添加地址         | 1. 构造查看地址请求；`<br>`2. 添加请求头；`<br>`3. 发送请求；`<br>`4. 验证响应                          | 无                                                                                                                                                                                                                                                                                                                                                                   | errno=0，data返回地址列表，包含地址ID、姓名、手机号等信息，errmsg="成功" | 200        | 获取用户所有地址           |
| 22   | API_Address023 | 查看地址列表失败-未登录            | /wx/address/list | GET      | 无                                                                       | P1     | 用户未登录                     | 1. 构造查看地址请求；`<br>`2. 不添加登录Token；`<br>`3. 发送请求；`<br>`4. 验证响应                     | 无                                                                                                                                                                                                                                                                                                                                                                   | errno!=0，errmsg="未登录"                                                | 4xx        | 验证未登录状态             |
