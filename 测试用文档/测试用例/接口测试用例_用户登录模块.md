# 接口测试用例文档 - 用户登录模块

## 1. 接口测试用例

| ID | 模块 | 用例名称 | 优先级 | 接口名称 | 前置条件 | 请求URL | 请求类型 | 请求头 | 请求参数类型 | 请求参数 | 预期响应状态码 | 预期返回数据 | 实际响应状态码 | 执行结果 | 实际返回结果 |
|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|
| 0 | 用户登录模块 | 账号密码登录-正确凭据 | P0 | 账号密码登录接口 | 无 | /wx/auth/login | POST | Content-Type: application/json | JSON | {"username":"user123","password":"e10adc3949ba59abbe56e057f20f883e"} | 200 | errno=0，data返回token、用户信息，errmsg="成功" | | | |
| 1 | 用户登录模块 | 账号密码登录-未注册账号 | P1 | 账号密码登录接口 | 无 | /wx/auth/login | POST | Content-Type: application/json | JSON | {"username":"notexist","password":"e10adc3949ba59abbe56e057f20f883e"} | 4xx | errno!=0，errmsg="账号不存在" | | | |
| 2 | 用户登录模块 | 账号密码登录-错误密码 | P1 | 账号密码登录接口 | 无 | /wx/auth/login | POST | Content-Type: application/json | JSON | {"username":"user123","password":"wrongpassword"} | 4xx | errno!=0，errmsg="账号密码错误" | | | |
| 3 | 用户登录模块 | 账号密码登录-空用户名 | P1 | 账号密码登录接口 | 无 | /wx/auth/login | POST | Content-Type: application/json | JSON | {"username":"","password":"e10adc3949ba59abbe56e057f20f883e"} | 4xx | errno!=0，errmsg="用户名不能为空" | | | |
| 4 | 用户登录模块 | 账号密码登录-空密码 | P1 | 账号密码登录接口 | 无 | /wx/auth/login | POST | Content-Type: application/json | JSON | {"username":"user123","password":""} | 4xx | errno!=0，errmsg="密码不能为空" | | | |
| 5 | 用户登录模块 | 账号密码登录-密码未加密 | P1 | 账号密码登录接口 | 无 | /wx/auth/login | POST | Content-Type: application/json | JSON | {"username":"user123","password":"123456"} | 4xx | errno!=0，errmsg="账号密码错误" | | | |
| 6 | 用户登录模块 | 账号密码登录-特殊字符账号 | P1 | 账号密码登录接口 | 无 | /wx/auth/login | POST | Content-Type: application/json | JSON | {"username":"user*123","password":"e10adc3949ba59abbe56e057f20f883e"} | 4xx | errno!=0，errmsg="账号不存在" | | | |
| 7 | 用户登录模块 | 手机号登录-正确手机号密码 | P0 | 手机号登录接口 | 无 | /wx/auth/login | POST | Content-Type: application/json | JSON | {"username":"13800138000","password":"e10adc3949ba59abbe56e057f20f883e"} | 200 | errno=0，data返回token、用户信息，errmsg="成功" | | | |
| 8 | 用户登录模块 | 手机号登录-未注册手机号 | P1 | 手机号登录接口 | 无 | /wx/auth/login | POST | Content-Type: application/json | JSON | {"username":"13800138999","password":"e10adc3949ba59abbe56e057f20f883e"} | 4xx | errno!=0，errmsg="账号不存在" | | | |
| 9 | 用户登录模块 | 手机号登录-格式错误 | P1 | 手机号登录接口 | 无 | /wx/auth/login | POST | Content-Type: application/json | JSON | {"username":"12345","password":"e10adc3949ba59abbe56e057f20f883e"} | 4xx | errno!=0，errmsg="手机号格式不正确" | | | |
| 10 | 用户登录模块 | 退出登录-已登录 | P0 | 退出登录接口 | 用户已登录 | /wx/auth/logout | POST | Content-Type: application/json<br>X-Litemall-Token: 登录成功Token值 | JSON | {} | 200 | errno=0，data返回成功结果，errmsg="成功" | | | |
| 11 | 用户登录模块 | 退出登录-未登录 | P1 | 退出登录接口 | 用户未登录 | /wx/auth/logout | POST | Content-Type: application/json | JSON | {} | 4xx | errno!=0，errmsg="未登录" | | | |
| 12 | 用户登录模块 | 获取用户信息-已登录 | P0 | 获取用户信息接口 | 用户已登录 | /wx/user/info | GET | X-Litemall-Token: 登录成功Token值 | 无 | 无 | 200 | errno=0，data返回用户详细信息，errmsg="成功" | | | |
| 13 | 用户登录模块 | 获取用户信息-未登录 | P1 | 获取用户信息接口 | 用户未登录 | /wx/user/info | GET | 无 | 无 | 无 | 4xx | errno!=0，errmsg="未登录" | | | |
| 14 | 用户登录模块 | 获取用户信息-无效Token | P1 | 获取用户信息接口 | 用户已登录 | /wx/user/info | GET | X-Litemall-Token: invalid_token | 无 | 无 | 4xx | errno!=0，errmsg="token无效" | | | |
| 15 | 用户登录模块 | 刷新Token-有效Token | P0 | 刷新Token接口 | 用户已登录 | /wx/auth/refresh | GET | X-Litemall-Token: 登录成功Token值 | 无 | 无 | 200 | errno=0，data返回新的token，errmsg="成功" | | | |
| 16 | 用户登录模块 | 刷新Token-无效Token | P1 | 刷新Token接口 | 用户未登录 | /wx/auth/refresh | GET | X-Litemall-Token: invalid_token | 无 | 无 | 4xx | errno!=0，errmsg="token无效" | | | |