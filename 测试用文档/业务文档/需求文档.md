# 轻商城litemall项目需求文档

## 1. 文档信息
- 文档编号：[RD-LCM-001]
- 版本：1.0
- 编写日期：2024.01.01
- 编写人：产品经理
- 审核人：项目经理

## 2. 项目概述
轻商城litemall是一个小型电商系统，提供用户注册、登录、商品浏览、搜索、购物车、订单管理等功能，旨在为用户提供便捷的在线购物体验。

## 3. 功能需求明细

### 3.1 用户认证模块

#### 3.1.1 注册功能
**功能描述**：允许新用户通过手机号注册账号
- **输入**：
  - 手机号：未注册且合法的11位数字（第一位数字为1，第二位大于2）
  - 用户名：6-12位字符
  - 密码：7-16位字符
  - 确认密码：与密码一致
  - 验证码：6位数字（测试环境下固定为666666）
- **输出**：
  - 注册成功/失败提示
  - 成功后自动登录并返回用户信息
- **业务规则**：
  - 手机号必须未被注册
  - 用户名、密码必须符合长度要求
  - 两次输入的密码必须一致
  - 验证码必须正确且未过期

#### 3.1.2 登录功能
**功能描述**：允许已注册用户通过手机号和密码登录系统
- **输入**：
  - 手机号：已注册的手机号
  - 密码：与用户注册密码一致
- **输出**：
  - 登录成功/失败提示
  - 成功后返回用户信息和token
- **业务规则**：
  - 手机号必须已注册
  - 密码必须与注册时设置的密码一致
  - 连续多次登录失败可能触发账号锁定机制

### 3.2 商品搜索模块

#### 3.2.1 商品搜索功能
**功能描述**：允许用户通过关键词搜索商品
- **输入**：
  - 搜索关键词：最多50个字符
- **输出**：
  - 符合条件的商品列表
  - 搜索历史记录
- **业务规则**：
  - 搜索结果按相关性排序
  - 记录用户搜索历史
  - 提供清空搜索历史功能

### 3.3 购物车模块

#### 3.3.1 加入购物车功能
**功能描述**：允许用户将商品添加到购物车
- **输入**：
  - 商品id：整数，必填
  - 购买数量：整数，必填，大于0
  - 产品id：整数，必填
- **输出**：
  - 添加成功/失败提示
  - 更新后的购物车商品数量
- **业务规则**：
  - 商品必须存在且可售
  - 购买数量不能超过商品库存

### 3.4 地址管理模块

#### 3.4.1 添加收货地址功能
**功能描述**：允许用户添加收货地址信息
- **输入**：
  - 姓名：1-64个字符，必填
  - 手机号：11位数字，必填
  - 国家：默认值为"China"，可选
  - 省份：下拉选择，必填
  - 城市：下拉选择，必填，与省份关联
  - 区县：下拉选择，必填，与城市关联
  - 地区码：6位数字，必填
  - 邮政编码：6位数字，必填
  - 详细地址：1-100个字符，必填
  - 默认地址：布尔值，必填
- **输出**：
  - 添加成功/失败提示
  - 更新后的地址列表
- **业务规则**：
  - 手机号必须符合11位数字格式
  - 地区码和邮政编码必须为6位数字
  - 一个用户只能有一个默认地址

### 3.5 订单管理模块

#### 3.5.1 提交订单功能
**功能描述**：允许用户提交购物车中的商品生成订单
- **输入**：
  - 地址id：已添加的地址id，必选且唯一
  - 购物车商品id列表：必填
  - 优惠券id：满足使用条件时必填
  - 用户优惠券id：必填
  - 团购连接id：整数，必填（如果是团购商品）
  - 团购规则id：整数，必填（如果是团购商品）
  - 订单备注：1-200个字符，可选
- **输出**：
  - 订单提交成功/失败提示
  - 生成的订单信息
- **业务规则**：
  - 必须选择有效的收货地址
  - 购物车商品必须存在且可售
  - 优惠券必须满足使用条件
  - 订单备注不能超过200个字符

## 4. 测试规则指南

### 4.1 功能测试规则
- 验证每个功能是否按照需求规格正确实现
- 测试正常流程和主要分支流程
- 确保功能间的交互正常

### 4.2 边界值测试规则
- 针对输入参数的最小值、最大值进行测试
- 测试参数值的边界点（如字符长度的最小/最大限制）
- 考虑数值类型的上下限

### 4.3 等价类划分规则
- 将输入数据划分为有效等价类和无效等价类
- 有效等价类：符合需求规格的输入数据
- 无效等价类：不符合需求规格的输入数据
- 从每个等价类中选取代表性数据进行测试

### 4.4 错误推测法规则
- 基于经验和直觉推测系统可能出现的错误
- 测试常见的用户操作错误
- 测试系统在异常情况下的表现


---
**更新时间**：2025-10-05

